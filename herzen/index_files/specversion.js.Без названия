function getCookie(e){var o=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return o?decodeURIComponent(o[1]):void 0}function setCookie(e,o,t){t=t||{};var n=t.expires;if("number"==typeof n&&n){var r=new Date;r.setTime(r.getTime()+1e3*n),n=t.expires=r}n&&n.toUTCString&&(t.expires=n.toUTCString()),o=encodeURIComponent(o);var i=e+"="+o+"; path=/";for(var s in t){i+="; "+s;var a=t[s];a!==!0&&(i+="="+a)}document.cookie=i}function deleteCookie(e){setCookie(e,"",{expires:-1})}function removeColorVer(){jQuery("body, div, big").removeClass("colorver1 colorver2 colorver3 colorver4"),deleteCookie("colorver")}function setColorVer(e){removeColorVer(),jQuery("body, div, big").addClass("colorver"+e),setCookie("colorver",e)}function removeFontVer(){jQuery("body, div").removeClass("fontver1 fontver2 fontver3"),deleteCookie("fontver")}function setFontVer(e){removeFontVer(),jQuery("body, div").addClass("fontver"+e),setCookie("fontver",e)}function removeBWVer(){jQuery("body, div").removeClass("bw"),jQuery("#bw_button").removeClass("active"),deleteCookie("bwver")}function setBWVer(){removeBWVer(),jQuery("body").addClass("bw"),jQuery("#bw_button").addClass("active"),setCookie("bwver",1)}function removeTypeface(){jQuery("body, div").removeClass("typeface"),jQuery("#notf_button").addClass("active"),jQuery("#tf_button").removeClass("active"),deleteCookie("typeface")}function setTypeface(){removeTypeface(),jQuery("body").addClass("typeface"),jQuery("#notf_button").removeClass("active"),jQuery("#tf_button").addClass("active"),setCookie("typeface",1)}function showPicture(){jQuery("body, div").removeClass("hd"),jQuery("#hd_button").removeClass("active"),jQuery(".noimg").remove(),deleteCookie("hdver")}function hidePicture(){showPicture(),jQuery("body img").each(function(){attr=jQuery(this).attr("alt")||jQuery(this).attr("title")||"",jQuery(this).after('<div class="noimg" style="width:250px;">'+attr+"</div>")}),jQuery("body").addClass("hd"),jQuery("#hd_button").addClass("active"),setCookie("hdver",1)}function removeKerningVer(){jQuery("body, div").removeClass("kerning1 kerning2 kerning3"),deleteCookie("kerningver")}function setKerningVer(e){removeKerningVer(),jQuery("body, div").addClass("kerning"+e),jQuery("#kerning_"+e).addClass("active").siblings().removeClass("active"),setCookie("kerningver",e)}function removeLheightVer(){jQuery("body, div").removeClass("lheight1 lheight2 lheight3"),deleteCookie("lheight")}function setlheightVer(e){removeLheightVer(),jQuery("body, div").addClass("lheight"+e),jQuery("#lheight_"+e).addClass("active").siblings().removeClass("active"),setCookie("lheight",e)}function showFlash(){jQuery("object, embed").show(),jQuery("#flash_button").removeClass("active"),deleteCookie("flash")}function hideFlash(){showFlash(),jQuery("object, embed").hide(),jQuery("#flash_button").addClass("active"),setCookie("flash",1)}function menuSV(){if(""===menu_in){var e=0;menu=jQuery("[id*='Menu']"),0==jQuery(menu).size()&&(menu=jQuery("[id*='menu']"),menuTemp=jQuery(menu[0]).find("a"),""==jQuery(menuTemp[0]).text()&&(e=1)),0==jQuery(menu).size()&&(menu=jQuery("[class*='menu']")),0==jQuery(menu).size()&&(menu=jQuery("[class*='navi']")),0==jQuery(menu).size()&&(menu=jQuery(".nav")),menuCurrent=menu[e]}else menuCurrent=menu_in;menuSpec=[],menu_in.indexOf(",")>-1?(split_menu=menu_in.split(","),jQuery.each(split_menu,function(e,o){menuSpec.push(jQuery(o).find("a").andSelf("a"))})):menuSpec[0]=jQuery(menuCurrent).find("a").andSelf("a"),jQuery("cufon canvas").remove(),jQuery("nav").remove(),jQuery("#specialversion").remove(),jQuery("#specialversion2").remove(),jQuery("ymaps").remove(),jQuery(menuCurrent).remove();var o=[];jQuery(menuSpec).each(function(e){var t=-1,n=0,r="--";jQuery(menuSpec[e]).each(function(e){if(t!=jQuery(this).parents().size()&&t!=-1||0!=jQuery(r).closest("li").find(this).size())o[n][3].push(new Array(e,jQuery(this).text(),jQuery(this).prop("href")));else{var i=new Array(e,jQuery(this).text(),jQuery(this).prop("href"));i[3]=[],n=o.push(i)-1,t=jQuery(this).parents().size(),r=this}})}),"1"==main_menu&&o.unshift(new Array(0,"Главная","/",[]));var t,n="style align size color bgcolor background bottommargin topmargin border data-image-meta face",r=n+" width height";jQuery.each(content_in,function(e,o){jQuery(o.content).size()>0&&(b=jQuery(o.content),b.find(content_remove).remove(),b.css("font-size","21px"),b.find("div").removeAttr("class"),b.find("span").removeAttr("class"),b.find("p").removeAttr("class"),b.find("ol, ul").removeAttr("class"),fnd=b.find("a, p, div, span, table, tr, th, ul, li, td, font, i, h1, h2, h3, h4, h5, h6, b, tbody, strong, big, article, ol"),fnd.removeAttr(r),fnd=b.find("img"),fnd.removeAttr(n),b.find("script").remove(),t=b.html())}),jQuery("body").html(""),jQuery("body").removeAttr(r),jQuery("body").append('<script src="https://yastatic.net/bootstrap/3.3.6/js/bootstrap.min.js"></script>'),url="//"+server+"/api/v1/body";var i,s,a,l;i=jQuery.ajax({url:url,dataType:"jsonp",data:function(){return"undefined"!=typeof sver&&sver||""}(),jsonp:"callback",jsonpCallback:"bodycall",error:function(e,o,t){console.log(o+"; "+t)}}),i.done(function(e){console.log("body callback success"),jQuery("body").append(e.html),url="//"+server+"/api/v1/menu",s=jQuery.ajax({url:url,dataType:"jsonp",jsonp:"callback",jsonpCallback:"menucall",error:function(e,o,t){console.log(o+"; "+t)}}),s.done(function(e){console.log("menu callback success"),jQuery("body").append(e.html),url="//"+server+"/api/v1/submenu",a=jQuery.ajax({url:url,dataType:"jsonp",jsonp:"callback",jsonpCallback:"submenucall",error:function(e,o,t){console.log(o+"; "+t)}}),a.done(function(e){console.log("submenu callback success"),jQuery("body").append(e.html),url="//"+server+"/api/v1/article",l=jQuery.ajax({url:url,dataType:"jsonp",jsonp:"callback",jsonpCallback:"articlecall",error:function(e,o,t){console.log(o+"; "+t)}}),l.done(function(e){console.log("article callback success"),jQuery("body").append(e.html);var n,r=_.template(jQuery("#menu-template").html());n=0!=o.length?_.template(jQuery("#submenu-template").html()):_.template("");var i=_.template(jQuery("#article-template").html()),s=_.template(jQuery("#body-template").html());jQuery("body").append(s({menu:r({}),submenu:n({submenus:o}),articles:i({articles:t})})),getCookie("fontver")&&setFontVer(getCookie("fontver")),getCookie("colorver")&&setColorVer(getCookie("colorver")),1==getCookie("bwver")&&setBWVer(),1==getCookie("hdver")&&hidePicture(),getCookie("kerningver")&&setKerningVer(getCookie("kerningver")),getCookie("lheight")&&setlheightVer(getCookie("lheight")),getCookie("typeface")&&setTypeface(),getCookie("flash")&&hideFlash(),jQuery(".dropdown-toggle").dropdown(),jQuery("li.dropdown .dropdown-toggle").on("click",function(){jQuery("li.dropdown").show(),jQuery("li.dropdown").removeAttr("style")}),jQuery("#up").click(function(){return jQuery("html, body").animate({scrollTop:0},500),!1}),jQuery("img[data-src]").each(function(){jQuery(this).attr("src",jQuery(this).attr("data-src"))}),jQuery("img[data-orig-file]").each(function(){jQuery(this).parent().attr("href",jQuery(this).attr("data-orig-file"))}),jQuery("a").removeClass("fancybox"),svscr&&jQuery("body").append("<script>"+svscr+"</script>"),svcss&&jQuery("body").append('<style type="text/css">'+svcss+"</style>");var a,l;l=new Audio,l.addEventListener("playing",function(){jQuery("#speakall span").removeClass("glyphicon-volume-up rotate"),jQuery("#speakall span").addClass("glyphicon-pause")}),jQuery.getScript("https://webasr.yandex.net/jsapi/v1/webspeechkit-settings.js",function(){jQuery.getScript("https://webasr.yandex.net/jsapi/v1/webspeechkit.js",function(){ya.speechkit.play=function(e,o){l.src=e,l.volume=1,l.onended=o||function(){},l.play(),l.addEventListener("playing",function(){jQuery("#speakall span").removeClass("glyphicon-volume-up rotate"),jQuery("#speakall span").addClass("glyphicon-pause")})},a=new ya.speechkit.Tts({apikey:"98f35451-cd5a-42f5-ba13-6fae3d382506",emotion:"good",speed:1,speaker:"jane"})})}),jQuery("#speakall").on("click",function(){jQuery("#speakall span").hasClass("glyphicon-pause")?(l.pause(),jQuery("#speakall span").removeClass("glyphicon-pause"),jQuery("#speakall span").addClass("glyphicon-volume-up")):a.speak(jQuery(t).text(),{infoCallback:function(e,o,t,n){jQuery("#speakall span").removeClass("glyphicon-volume-up"),jQuery("#speakall span").addClass("glyphicon-refresh"),jQuery("#speakall span").addClass("rotate")},stopCallback:function(){console.log(jQuery("audio"),3),jQuery("#speakall span").removeClass("rotate"),jQuery("#speakall span").removeClass("glyphicon-pause"),jQuery("#speakall span").addClass("glyphicon-volume-up"),console.log("Озвучивание текста завершено.")}})}),jQuery("a").each(function(){jQuery(this).attr("title",jQuery(this).text().trim())}),jQuery("input[type='text']").popover({trigger:"hover",html:!0,content:function(){return"<b>Введите текст</b>"},placement:"top",container:"body"})})})})}),jQuery("ymaps").remove()}function setEvents(){var e=jQuery("body");e.on("click","#specVersionDisable, #specVersionDisable2",function(){deleteCookie("specVersion"),window.location.hash.indexOf("#specversion")>-1?window.location.replace(window.location.href.replace("#specversion","")):location.reload()}),e.on("click","#colorver",function(){removeColorVer()}),e.on("click","#colorver_1",function(){setColorVer(1)}),e.on("click","#colorver_2",function(){setColorVer(2)}),e.on("click","#colorver_3",function(){setColorVer(3)}),e.on("click","#colorver_4",function(){setColorVer(4)}),e.on("click","#fontver1",function(){setFontVer(1)}),e.on("click","#fontver2",function(){setFontVer(2)}),e.on("click","#fontver3",function(){setFontVer(3)}),e.on("click","#specVersionMore",function(){jQuery("#specmore").toggle()}),e.on("click","#bw_button",function(){1==getCookie("bwver")?removeBWVer():setBWVer()}),e.on("click","#hd_button",function(){1==getCookie("hdver")?showPicture():hidePicture()}),e.on("click","#kerning_1",function(){setKerningVer(1)}),e.on("click","#kerning_2",function(){setKerningVer(2)}),e.on("click","#kerning_3",function(){setKerningVer(3)}),e.on("click","#lheight_1",function(){setlheightVer(1)}),e.on("click","#lheight_2",function(){setlheightVer(2)}),e.on("click","#lheight_3",function(){setlheightVer(3)}),e.on("click","#tf_button",function(){setTypeface()}),e.on("click","#notf_button",function(){removeTypeface()}),e.on("click","#default_button",function(){removeBWVer(),removeColorVer(),removeTypeface(),setlheightVer(1),setFontVer(3),showPicture(),setKerningVer(1),showFlash()}),e.on("click","#flash_button",function(){1==getCookie("flash")?showFlash():hideFlash()})}function loader(){var e=document.createElement("div");e.style.cssText="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #fff; z-index: 9999999999;",e.id="specloader",e.innerHTML='<div class="spinner"></div>';var o=document.createElement("div");o.style.cssText='position: absolute;width: 110px;height: 110px;top: 50%;left: 50%;margin-left: -40px; margin-top: -40px; background-image: url("https://special.prolexgroup.ru/static/img/default.gif");',e.appendChild(o),document.body.appendChild(e)}function loadSpecialVersion(){loader(),console.log("document load"),jQuery.getScript("https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js",function(){jQuery(window).load(function(){jQuery("specloader").remove()}),setEvents(),jQuery("link").remove(),jQuery("style").remove(),jQuery("head").append('<link href="https://yastatic.net/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet">'),jQuery("head").append('<link href="//'+server+'/static/css/bootstrap-spec.css" rel="stylesheet">'),jQuery("body").append('<script src="https://yastatic.net/bootstrap/3.3.6/js/bootstrap.min.js"></script>'),jQuery.getScript("https://yastatic.net/lodash/4.10.0/lodash.min.js",function(){menuSV()})})}function buttonSV2(){if(null===document.getElementById("specialversion")){var e=document.createElement("div");e.id="specialversion2",e.style.cssText="z-index: 10000;top: 0px;left: 0px; position: absolute;";var o="https://special.prolexgroup.ru/media/button/grey_new2.png";e.innerHTML='<a href="#" title="Версия для слабовидящих" itemprop="copy"><img title="Версия для слабовидящих" alt="Версия для слабовидящих" src="'+o+'"></a>',e.addEventListener("click",function(e){e.preventDefault(),setCookie("specVersion",!0),loadSpecialVersion()}),document.body.appendChild(e)}else document.getElementById("specialversion").addEventListener("click",function(e){e.preventDefault(),setCookie("specVersion",!0),loadSpecialVersion()})}function ready(){jQuery(document).ready(function(){getCookie("specVersion")||"#specversion"==window.location.hash?loadSpecialVersion():buttonSV2()})}console.log("SpecVersion v1.7.3");var server="special.prolexgroup.ru",inc="undefined"!=typeof sver&&sver.inc||"body",ext="undefined"!=typeof sver&&sver.ext||".carousel-control, .nav__arrow, .mainmenuitem, .zindex-top,#footer, #header, footer, .footer, header, .header, .art-Footer, #sidebar, .art-sidebar1, iframe, #top, .art-sidebar2, #skip-link, #slider, .art-Header, #jivo-iframe-container, #lightbox, .art-page-footer, #logo, .highslide-loading, #colorbox, #f_area, #ja-footerwrap, .accessibility, .search, marquee, .logo, .slider, object, #idcal, #ja-header, #leftcol, #main_top, .email-icon, .print-icon, .unsupported, #bottom, #cboxWrapper, #copyright, svg, .auth, .bx-next, .bx-prev, embed, #banner, #footer-wrapper, #imHeader, #ja-footer, #ja-headerwrap, #jivo-action-container, #loginbox, .copyright, .no-display, .rightCol, #loginbox, #newton_callback_phone, #newton_callback_dialog_wrap, #newton_callback_wrap, #g_shape1, #g_shape2, #g_shape3, #g_shape4, #g_shape5, #g_shape6, #g_shape7, #g_shape8, #cbh, #sv1, #sv2, #sv3, #sv4, #sv5, #sv6, #sv7, #sv8, #sv9, #sv10, .noversionprolex, #move_up, #toTop, #95e10fa1fcfc4920a59950daf625df85",menu_in="undefined"!=typeof sver&&sver.menu||".main-menu__item, .bottom_menu",svscr="",svcss="",main_menu="1",content_in={0:{content:inc}},content_remove=ext;if(window.jQuery)ready();else{var jq=document.createElement("script");jq.type="text/javascript",jq.src="//code.jquery.com/jquery-1.12.0.min.js",jq.async=!0,document.getElementsByTagName("body")[0].appendChild(jq),jqF=function(){document.head.insertBefore(jq,null)},jqF(),jq.onload=function(){ready()}}