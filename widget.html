<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <script src="https://code.jquery.com/jquery-latest.min.js" type="text/javascript"></script>
    <script src="https://vk.com/js/api/xd_connection.js" type="text/javascript"></script>
</head>
<body>
<div>
    <input type="text" id="type">
</div>
<br>
<div>
<textarea id="code">
  return false;
</textarea>
</div>
<div>
    <button id="submit">Отправить</button>
</div>
<script type="text/javascript">
    $(document).ready(function() {
        VK.init(function () {
            VK.callMethod("showGroupSettingsBox", 64);
            $("#submit").click(function(){
                var type = $( "#type" ).val();
                var code = $( "#code" ).val();
                console.log(type);
                console.log(code);
                VK.callMethod("showAppWidgetPreviewBox", type, code);
            });
            VK.addCallback('onAppWidgetPreviewFail', function f(a){
                alert(a);
            });
            VK.addCallback('onAppWidgetPreviewCancel', function f(a){
                alert(a);
            });
            VK.addCallback('onAppWidgetPreviewSuccess', function f(a){
                alert(a);
            });
        }, function () {
            alert("Ошибка ВК! Перезапустите приложение");
        }, '5.69');
    });
</script>
</body>
</html>
